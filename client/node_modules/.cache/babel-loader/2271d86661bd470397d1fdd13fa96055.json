{"ast":null,"code":"var _jsxFileName = \"/home/hackerone/Documents/6thsem/reactjs_practice/HealthBridge/client/src/pages/services/Appointment.js\";\n\n/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState, useEffect } from \"react\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { userAtom, tokenAtom } from \"../../global/globalState\";\nimport Axios from \"axios\";\n\nconst Appointment = () => {\n  const [doctor, setDoctor] = useState(null);\n  const [symptoms, setSymptoms] = useState(null);\n  const [department, setDepartment] = useState(null);\n  const [appointmentDate, setAppointmentDate] = useState(new Date());\n  const [user, setUser] = useRecoilState(userAtom);\n  const token = useRecoilValue(tokenAtom);\n  const [docs, setDocs] = useState([{\n    _id: \"5435\",\n    name: \"None\"\n  }]);\n  useEffect(() => {\n    Axios.get(`${process.env.REACT_APP_API_URL}/doctor`).then(res => {\n      setDocs(res.data);\n    }).catch(err => {\n      console.error(err);\n    });\n  }, []);\n\n  const handleAppointment = () => {\n    Axios.post(`${process.env.REACT_APP_API_URL}/appointment/book`, {\n      symptoms,\n      appointmentDate,\n      department,\n      doctor\n    }, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      console.log(res.data);\n      setUser(res.data);\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  useEffect(() => {\n    Axios.get(`${process.env.REACT_APP_API_URL}/prescription/get`, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      console.log('prescription wala data');\n      console.log(res.data);\n      setUser(res.data);\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\n    }).catch(err => {\n      console.error(err);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Appointment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }\n  }, \"Book Appointment\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, \"Patients can book online appointments with a specific doctor and can get prescription afterwards.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"appointment-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"Submit your info\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"appointment-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"symptoms\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 8\n    }\n  }, \"Symptoms\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"symptoms\",\n    value: symptoms,\n    onChange: e => setSymptoms(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"doctor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 8\n    }\n  }, \"Doctor Name\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"blood_grp\",\n    value: doctor,\n    onChange: e => setDoctor(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 8\n    }\n  }, docs && docs.map(doc => /*#__PURE__*/React.createElement(\"option\", {\n    key: doc._id,\n    value: doc.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, doc.name))), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"department\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 8\n    }\n  }, \"Department\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"dept\",\n    value: department,\n    onChange: e => setDepartment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 8\n    }\n  }, \"Appointment Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date-pick\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    value: appointmentDate.getFullYear().toString() + \"-\" + (appointmentDate.getMonth() + 1).toString().padStart(2, 0) + \"-\" + appointmentDate.getDate().toString().padStart(2, 0),\n    onChange: e => setAppointmentDate(e.target.valueAsDate),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary\",\n    onClick: () => handleAppointment(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 8\n    }\n  }, \"Book\"))), user.appointment && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"appointment-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 8\n    }\n  }, \"Your Appointment\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 8\n    }\n  }, user.appointment && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require(\"../../assets/icons/medicine.png\"),\n    alt: \"Image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 12\n    }\n  }, \"Doctor :\", \" \", user.appointment[0] && user.appointment[0].doctor), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 12\n    }\n  }, \"Symptoms :\", \" \", user.appointment[0] && user.appointment[0].symptoms), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 12\n    }\n  }, \"Date :\", \" \", user.appointment[0] && user.appointment[0].appointmentDate && user.appointment[0].appointmentDate.substring(0, 10)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"prescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pres\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, \"Prescription From Doctor\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, user.appointment[0] && user.appointment[0].prescription ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pres-cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, \"Real Symptoms\"), \" \", \":\", \" \", user.appointment[0].prescription.symptoms, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, \"Medicine\"), \" \", \":\", \" \", user.appointment[0].prescription.medicine, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, \"Comments\"), \" \", \":\", \" \", user.appointment[0].prescription.comments, \" \")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }, \"Yet To Presctibe\"))))))))))));\n};\n\nexport default Appointment;","map":{"version":3,"sources":["/home/hackerone/Documents/6thsem/reactjs_practice/HealthBridge/client/src/pages/services/Appointment.js"],"names":["React","useState","useEffect","useRecoilState","useRecoilValue","userAtom","tokenAtom","Axios","Appointment","doctor","setDoctor","symptoms","setSymptoms","department","setDepartment","appointmentDate","setAppointmentDate","Date","user","setUser","token","docs","setDocs","_id","name","get","process","env","REACT_APP_API_URL","then","res","data","catch","err","console","error","handleAppointment","post","headers","Authorization","log","localStorage","setItem","JSON","stringify","e","target","value","map","doc","getFullYear","toString","getMonth","padStart","getDate","valueAsDate","appointment","require","substring","prescription","medicine","comments"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState, useEffect } from \"react\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { userAtom, tokenAtom } from \"../../global/globalState\";\nimport Axios from \"axios\";\n\nconst Appointment = () => {\n\tconst [doctor, setDoctor] = useState(null);\n\tconst [symptoms, setSymptoms] = useState(null);\n\tconst [department, setDepartment] = useState(null);\n\tconst [appointmentDate, setAppointmentDate] = useState(new Date());\n\n\tconst [user, setUser] = useRecoilState(userAtom);\n\tconst token = useRecoilValue(tokenAtom);\n\n\tconst [docs, setDocs] = useState([\n\t\t{\n\t\t\t_id: \"5435\",\n\t\t\tname: \"None\",\n\t\t},\n\t]);\n\n\tuseEffect(() => {\n\t\tAxios.get(`${process.env.REACT_APP_API_URL}/doctor`)\n\t\t\t.then((res) => {\n\t\t\t\tsetDocs(res.data);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t},[]);\n\n\tconst handleAppointment = () => {\n\t\tAxios.post(\n\t\t\t`${process.env.REACT_APP_API_URL}/appointment/book`,\n\t\t\t{\n\t\t\t\tsymptoms,\n\t\t\t\tappointmentDate,\n\t\t\t\tdepartment,\n\t\t\t\tdoctor,\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: \"Bearer \" + token,\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tsetUser(res.data);\n\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(res.data));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tAxios.get(`${process.env.REACT_APP_API_URL}/prescription/get`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: \"Bearer \" + token,\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log('prescription wala data')\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tsetUser(res.data);\n\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(res.data));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"Appointment\">\n\t\t\t<div className=\"container\">\n\t\t\t\t<div>\n\t\t\t\t\t<h1>Book Appointment</h1>\n\t\t\t\t\t<p className=\"content\">\n\t\t\t\t\t\tPatients can book online appointments with a specific\n\t\t\t\t\t\tdoctor and can get prescription afterwards.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"main\">\n\t\t\t\t\t{/* FORM  */}\n\t\t\t\t\t<div className=\"appointment-submit\">\n\t\t\t\t\t\t<h3>Submit your info</h3>\n\t\t\t\t\t\t<div className=\"appointment-form\">\n\t\t\t\t\t\t\t<label htmlFor=\"symptoms\">Symptoms</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"symptoms\"\n\t\t\t\t\t\t\t\tvalue={symptoms}\n\t\t\t\t\t\t\t\tonChange={(e) => setSymptoms(e.target.value)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<label htmlFor=\"doctor\">Doctor Name</label>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tname=\"blood_grp\"\n\t\t\t\t\t\t\t\tvalue={doctor}\n\t\t\t\t\t\t\t\tonChange={(e) => setDoctor(e.target.value)}>\n\t\t\t\t\t\t\t\t{docs &&\n\t\t\t\t\t\t\t\t\tdocs.map((doc) => (\n\t\t\t\t\t\t\t\t\t\t<option key={doc._id} value={doc.name}>\n\t\t\t\t\t\t\t\t\t\t\t{doc.name}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t<label htmlFor=\"department\">Department</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"dept\"\n\t\t\t\t\t\t\t\tvalue={department}\n\t\t\t\t\t\t\t\tonChange={(e) => setDepartment(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label htmlFor=\"date\">Appointment Date</label>\n\t\t\t\t\t\t\t<div className=\"date-pick\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\tappointmentDate\n\t\t\t\t\t\t\t\t\t\t\t.getFullYear()\n\t\t\t\t\t\t\t\t\t\t\t.toString() +\n\t\t\t\t\t\t\t\t\t\t\"-\" +\n\t\t\t\t\t\t\t\t\t\t(appointmentDate.getMonth() + 1)\n\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t.padStart(2, 0) +\n\t\t\t\t\t\t\t\t\t\t\"-\" +\n\t\t\t\t\t\t\t\t\t\tappointmentDate\n\t\t\t\t\t\t\t\t\t\t\t.getDate()\n\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t.padStart(2, 0)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetAppointmentDate(e.target.valueAsDate)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => handleAppointment()}>\n\t\t\t\t\t\t\t\tBook\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/*  APPOINTMENT  */}\n\t\t\t\t\t{user.appointment && (\n\t\t\t\t\t\t<div className=\"appointment-info\">\n\t\t\t\t\t\t\t<h3>Your Appointment</h3>\n\t\t\t\t\t\t\t<div className=\"cards\">\n\t\t\t\t\t\t\t\t{user.appointment && (\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"image\">\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={require(\"../../assets/icons/medicine.png\")}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Image\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\t\t\tDoctor :{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t{user.appointment[0] &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.appointment[0].doctor}\n\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\tSymptoms :{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t{user.appointment[0] &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.appointment[0].symptoms}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\tDate :{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t{user.appointment[0] &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.appointment[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.appointmentDate &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.appointment[0].appointmentDate.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t10\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"prescription\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pres\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tPrescription From Doctor\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.appointment[0] &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.appointment[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.prescription ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pres-cont\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tReal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSymptoms\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</strong>{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.appointment[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.prescription\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.symptoms\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMedicine\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</strong>{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.appointment[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.prescription\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.medicine\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tComments\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</strong>{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.appointment[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.prescription\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.comments\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYet To\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPresctibe\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Appointment;\n"]},"metadata":{},"sourceType":"module"}