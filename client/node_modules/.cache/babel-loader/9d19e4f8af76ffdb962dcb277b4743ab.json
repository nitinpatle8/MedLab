{"ast":null,"code":"var _jsxFileName = \"/home/hackerone/Documents/6thsem/reactjs_practice/HealthBridge/client/src/pages/DashboardDoc.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { useRecoilValue, useRecoilState } from \"recoil\";\nimport { userAtom, tokenAtom } from \"../global/globalState\";\n\nconst DashboardDoc = ({\n  history\n}) => {\n  const token = useRecoilValue(tokenAtom);\n  const [user, setUser] = useRecoilState(userAtom); //State\n\n  const [symptoms, setSymptoms] = useState(\"\");\n  const [medicine, setMedicine] = useState(\"\");\n  const [comments, setComments] = useState(\"\");\n  const [current, setCurrent] = useState(\"\");\n\n  const givePrescription = (pID, objID) => {\n    Axios.post(`${process.env.REACT_APP_API_URL}/prescription/give`, {\n      patientId: pID,\n      symptoms,\n      medicine,\n      objID,\n      comments,\n      date: Date.now()\n    }, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      console.log(res.data, \"give pres\"); // setUser(res.data);\n      // localStorage.setItem(\"user\", JSON.stringify(res.data));\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  useEffect(() => {\n    Axios.get(`${process.env.REACT_APP_API_URL}/appointment/upcoming`, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      setUser(res.data);\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\n    }).catch(err => {\n      console.error(err);\n    });\n  }, []);\n\n  const toggleCurrent = _id => {\n    if (current === _id) {\n      setCurrent(\"\");\n    } else {\n      setCurrent(_id);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"DashboardDoc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, \"Welcome Doctor\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, \"Your Appointments\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, user.appointments && user.appointments.map(appointment => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    key: appointment._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Appointment No :\", \" \", appointment.patient.substring(14)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 10\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 10\n    }\n  }, \"Symptopms : \", appointment.symptoms)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"prescribe-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit-prescribe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \"Prescribe\"), \" \", /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => toggleCurrent(appointment._id),\n    src: \"https://img.icons8.com/cotton/2x/edit.png\",\n    alt: \"Edit Icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  })), appointment._id === current && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 12\n    }\n  }, \"Symptoms\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: symptoms,\n    onChange: e => setSymptoms(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 12\n    }\n  }, \"Medicine\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: medicine,\n    onChange: e => setMedicine(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 12\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: comments,\n    onChange: e => setComments(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary\",\n    onClick: () => givePrescription(appointment.patient, appointment._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 12\n    }\n  }, \"Update\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 10\n    }\n  })), appointment.prescription && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, \"Prescribed\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"prescribed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"presc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"Symptoms\"), \" :\", \" \", appointment.prescription.symptoms, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"presc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, \"Medicine\"), \" :\", \" \", appointment.prescription.medicine, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"presc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"Comments\"), \" :\", \" \", appointment.prescription.comments, \" \"))))))));\n};\n\nexport default DashboardDoc;","map":{"version":3,"sources":["/home/hackerone/Documents/6thsem/reactjs_practice/HealthBridge/client/src/pages/DashboardDoc.js"],"names":["React","useEffect","useState","Axios","useRecoilValue","useRecoilState","userAtom","tokenAtom","DashboardDoc","history","token","user","setUser","symptoms","setSymptoms","medicine","setMedicine","comments","setComments","current","setCurrent","givePrescription","pID","objID","post","process","env","REACT_APP_API_URL","patientId","date","Date","now","headers","Authorization","then","res","console","log","data","catch","err","error","get","localStorage","setItem","JSON","stringify","toggleCurrent","_id","appointments","map","appointment","patient","substring","e","target","value","prescription"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { useRecoilValue, useRecoilState } from \"recoil\";\nimport { userAtom, tokenAtom } from \"../global/globalState\";\n\nconst DashboardDoc = ({ history }) => {\n\tconst token = useRecoilValue(tokenAtom);\n\tconst [user, setUser] = useRecoilState(userAtom);\n\n\t//State\n\tconst [symptoms, setSymptoms] = useState(\"\");\n\tconst [medicine, setMedicine] = useState(\"\");\n\tconst [comments, setComments] = useState(\"\");\n\tconst [current, setCurrent] = useState(\"\");\n\n\tconst givePrescription = (pID, objID) => {\n\t\tAxios.post(\n\t\t\t`${process.env.REACT_APP_API_URL}/prescription/give`,\n\t\t\t{\n\t\t\t\tpatientId: pID,\n\t\t\t\tsymptoms,\n\t\t\t\tmedicine,\n\t\t\t\tobjID,\n\t\t\t\tcomments,\n\t\t\t\tdate: Date.now(),\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: \"Bearer \" + token,\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data, \"give pres\");\n\t\t\t\t// setUser(res.data);\n\t\t\t\t// localStorage.setItem(\"user\", JSON.stringify(res.data));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tAxios.get(`${process.env.REACT_APP_API_URL}/appointment/upcoming`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: \"Bearer \" + token,\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetUser(res.data);\n\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(res.data));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}, []);\n\n\tconst toggleCurrent = (_id) => {\n\t\tif (current === _id) {\n\t\t\tsetCurrent(\"\");\n\t\t} else {\n\t\t\tsetCurrent(_id);\n\t\t}\n\t};\n\treturn (\n\t\t<div className=\"DashboardDoc\">\n\t\t\t<div className=\"container\">\n\t\t\t\t<h1>Welcome Doctor</h1>\n\t\t\t\t<h3>Your Appointments</h3>\n\t\t\t\t<div className=\"cards\">\n\t\t\t\t\t{user.appointments &&\n\t\t\t\t\t\tuser.appointments.map((appointment) => (\n\t\t\t\t\t\t\t<div className=\"card\" key={appointment._id}>\n\t\t\t\t\t\t\t\t<div className=\"head\">\n\t\t\t\t\t\t\t\t\tAppointment No :{\" \"}\n\t\t\t\t\t\t\t\t\t{appointment.patient.substring(14)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t\t<h4> </h4>\n\t\t\t\t\t\t\t\t\t<p>Symptopms : {appointment.symptoms}</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t\t\t\t<div className=\"box1\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"box2\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"box3\"></div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"prescribe-input\">\n\t\t\t\t\t\t\t\t\t<div className=\"edit-prescribe\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"head\">Prescribe</div>{\" \"}\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleCurrent(appointment._id)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://img.icons8.com/cotton/2x/edit.png\"\n\t\t\t\t\t\t\t\t\t\t\talt=\"Edit Icon\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{appointment._id === current && (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t<label>Symptoms</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={symptoms}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSymptoms(e.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label>Medicine</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={medicine}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetMedicine(e.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label>Comments</label>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={comments}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetComments(e.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tgivePrescription(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.patient,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tappointment._id\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t\t\t\t<div className=\"box1\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"box2\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"box3\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{appointment.prescription && (\n\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t<div className=\"head\">Prescribed</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"prescribed\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"presc\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Symptoms</strong> :{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.prescription\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.symptoms\n\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"presc\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Medicine</strong> :{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.prescription\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.medicine\n\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"presc\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Comments</strong> :{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.prescription\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.comments\n\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default DashboardDoc;\n"]},"metadata":{},"sourceType":"module"}